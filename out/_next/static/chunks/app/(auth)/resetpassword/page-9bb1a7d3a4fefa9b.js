(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5064],{42656:function(e,t,s){Promise.resolve().then(s.bind(s,24717))},75826:function(e,t,s){"use strict";var l=s(92173),r=s(99110),n=s(99231),a=s.n(n);let c=new r.Z,i=l.Z.create({baseURL:"http://fall2324w3g4.int3306.freeddns.org/api"});i.interceptors.request.use(e=>{let t=c.get("authToken");return a()(t)||(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e.data,e=>e.response?Promise.reject({status:e.response.status,data:e.response.data}):Promise.reject(e.request?e.request:e.message)),t.Z=i},24717:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ResetPassword}});var l=s(57437),r=s(75826),n=s(57614),a=s(61396),c=s.n(a),i=s(2265),o=s(24033);function ResetPassword(){let e=(0,o.useSearchParams)(),t=e.get("token");console.log({authToken:t});let[s,a]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),[x,f]=(0,i.useState)(""),[h,m]=(0,i.useState)(!1);async function onConfirmClick(){f(""),r.Z.post("/users/reset/"+t,{password:s}).then(e=>{console.log(e),m(!0)}).catch(e=>{console.log(e),f("Đ\xe3 c\xf3 lỗi xảy ra khi đổi mật khẩu. Vui l\xf2ng thử lại sau \xedt ph\xfat.")})}return(0,l.jsx)("div",{className:"h-screen flex",children:(0,l.jsxs)("div",{className:"py-6 w-[420px] mx-auto bg-white rounded-xl shadow-lg border self-center",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,l.jsx)("button",{className:"bg-transparent text-4xl my-6 text-primary font-bold font-mainfont",children:(0,l.jsx)(c(),{href:"/",children:"UETable"})}),(0,l.jsx)("div",{className:"text-3xl text-black font-bold text-center my-8",children:"Mật khẩu mới"}),h&&(0,l.jsx)("p",{children:"Đổi mật khẩu th\xe0nh c\xf4ng"}),!1==h&&(0,l.jsxs)("div",{className:"w-full flex flex-col justify-center items-center p-6",children:[(0,l.jsxs)("div",{className:"flex w-full justify-center relative pb-6",children:[(0,l.jsxs)("div",{className:"absolute bottom-21 left-5 bg-white px-2 flex gap-[2px]",children:[(0,l.jsx)("pre",{className:"text-red-500 text-xs",children:"*"}),(0,l.jsx)("p",{className:"text-gray-500 text-xs font-semibold",children:"Mật khẩu mới"})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col pr-4",children:[(0,l.jsx)("input",{value:s,onChange:e=>{a(e.target.value)},onFocus:()=>{d(!0)},type:"text",className:"w-full border rounded-lg text-black caret-black p-4 m-2 ".concat(u&&""===s?"border-red-500":""),placeholder:"Nhập mật khẩu mới"}),u&&""===s&&(0,l.jsx)("p",{className:"text-red-500 ml-2 text-sm",children:"Vui l\xf2ng nhập mật khẩu"})]})]}),""!=x&&(0,l.jsx)("div",{className:"w-full p-2",children:(0,l.jsxs)("div",{className:"w-full rounded-lg flex bg-red-300 p-4 mt-6",children:[(0,l.jsx)(n.default,{style:{color:"#FF0000"}}),(0,l.jsx)("p",{className:"text-sm ml-4",children:x})]})})]})]}),!1==h&&(0,l.jsxs)("div",{className:"w-full flex justify-between",children:[(0,l.jsx)("button",{className:"text-lg text-black rounded-lg px-6 py-2 font-bold ml-8 mt-16 hover:bg-slate-300",children:(0,l.jsx)(c(),{href:"/forgotpassword",children:"Quay lại"})}),(0,l.jsx)("button",{className:"text-lg text-white rounded-lg bg-primary px-3 py-2 mr-8 mt-16 hover:bg-dark-primary",onClick:onConfirmClick,children:"X\xe1c nhận"})]}),h&&(0,l.jsx)("div",{className:"w-full flex justify-end",children:(0,l.jsx)("button",{className:"text-lg text-white rounded-lg bg-primary px-3 py-2 mr-8 mt-16 hover:bg-dark-primary",onClick:onConfirmClick,children:(0,l.jsx)(c(),{href:"/signin",children:" Đăng nhập"})})})]})})}},36304:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return n}});let l=s(21024),r=l._(s(2265)),n=r.default.createContext(null)},24033:function(e,t,s){e.exports=s(50094)}},function(e){e.O(0,[9020,7614,2808,1396,2971,2472,1744],function(){return e(e.s=42656)}),_N_E=e.O()}]);